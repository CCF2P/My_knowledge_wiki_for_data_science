## Целое число в Python - больше, чем простое целое число
Стандартная реализация Python написана на C. Это значит, что каждый объект Python - структура языка C.<br>
Например, при создании переменной в Python:
```python
x = 10000
```
То `x` - это не просто целое число, а указатель на структуру языка C.

Пример из исходного кода *Python 3.10*, в котором есть описание *целочисленного типа* (типа **long** в C) фактически выглядит так (после развертывания макросов языка C):
```c++
struct _longobject {
	long ob_refcnt;
	PyTypeObject *ob_type;
	size_t ob_size;
	long ob_dibit[1];
}
```
Всякое *целое число* в Python 3.10 состоит из четырех частей:
- **ob_refcnt** - счетчик ссылок, с помощью которого Python незаметно выполняет выделение и освобождение памяти
- **ob_type** - код типа переменной
- **ob_size** - размер следующих элементов данных
- **ob_digit** - фактическое целочисленное значение, которое представляет переменная в Python

Это значит, что в отличии от компилируемых языков, таких как C, в Python вместе с самим числом хранится некоторая избыточная информация
![[Разница_между_целыми_числами_в_языках_C_и_Python.png]]
*Рисунок 1* - Разница между целыми числами в языках C и Python

**PyObject_HEAD** - часть структуры, содержащая счетчик ссылок, код типа и другие упомянутые выше элементы

## Список в Python - больше, чем просто список
Стандартным контейнером для множества элементов в Python является список.<br>
Благодаря динамической типизации в Python можно создавать даже неоднородные списки:
```python
L = [True, "2", 3.0, 4]
```
Однако подобная гибкость имеет свою цену: для использования гибких типов данных каждый элемент списка должен содержать информацию о типе, счетчик ссылок и другую информацию, т.е. каждый элемент - это *целый объект языка Python*.

Различие между списком со значениями динамического типа и массивом фиксированного типа и массивом фиксированного типа (в стиле библиотеки NumPy):
![[Различие_между_списками_в_языках_C_и_Python.png]]
*Рисунок 2* - Различие между списками в языках C и Pyhon

На уровне реализации массив фактически содержит один указатель на непрерывный блок данных. Список в Python, в свою очередь, содержит указатель на блок указателей, каждый из которых указывает на целый объект языка Python.

## Массивы фиксированного типа в Python
В языке Python есть встроенный модуль **array** (доступен с версии Python 3.3), который можно использовать для создания плотных массивов данных одного типа:
```python
import array

L = list(range(10))
A = array.array('i', L)
print(A)
```
В итоге в консоли (терминале) будет следующая строка:
```bash
array('i', [0, 1, 2, 3, 4, 5, 6, 7, 8, 9])
```
Здесь `'i'` - код типа, сообщающий, что массив хранит целые числа.

## Стандартные типы данных библиотеки NumPy
Массивы NumPy могут содержать значения следующих типов данных:

|Типы данных|Описание                                                                                              |
|-----------|------------------------------------------------------------------------------------------------------|
|bool_      |Булев тип (True или False), хранящийся как байт                                                       |
|int_       |Тип целочисленного значения по умолчанию (аналогичен типу long в C; обычно int64 или int32)           |
|intc       |Идентичен типу int в C (обычно int32 или int64)                                                       |
|intp       |Целочисленное значение, используемое для индексов (аналогичен типу size_t в C; обычно int32 или int64)|
|int8       |Байт (от -128 до 127)                                                                                 |
|int16      |Целое число (от -32768 до 32767)                                                                      |
|int32      |Целое число (от -2147483648 до 2147483647)                                                            |
|int64      |Целое число (от -9223372036854775808 до 9223372036854775807)                                          |
|uint8      |Целое число без знака (от 0 до 255)                                                                   |
|uint16     |Целое число без знака (от 0 до 65535)                                                                 |
|uint32     |Целое число без знака (от 0 до 4294967295)                                                            |
|uint64     |Целое число без знака (от 0 до 18446744073709551615)                                                  |
|float_     |Сокращение для названия типа float64                                                                  |
|float16    |Число с плавающей точкой с половинной точностью: 1 бит знака, 5 битов порядка, 10 битов мантиссы      |
|float32    |Число с плавающей точкой с половинной точностью: 1 бит знака, 8 битов порядка, 23 бита мантиссы       |
|float64    |Число с плавающей точкой с половинной точностью: 1 бит знака, 11 битов порядка, 52 бита мантиссы      |
|complex_   |Сокращение для названия типа complex128                                                               |
|complex64  |Комплексное число, представленное двумя 32-битными числами с плавающей точкой                         |
|complex128 |Комплексное число, представленное двумя 64-битными числами с плавающей точкой                         |

